{"version":3,"sources":["util/sessionApiUtil.js","action/modalAction.js","action/sessionAction.js","reducer/sessionReducer.js","util/axiosinstance.js","util/itemApiUtil.js","action/itemAction.js","action/outfitAction.js","util/outfitApiUtil.js","reducer/modalReducer.js","reducer/entityReducer.js","reducer/itemReducer.js","reducer/outfitReducer.js","reducer/rootReducer.js","reducer/errorReducer.js","store/store.js","components/modal/ModalContainer.jsx","components/modal/modalType.js","hooks/useModal.js","util/authValidation.js","components/modal/SignupModal.jsx","components/modal/SignupModalContainer.js","util/asyncInterval.js","components/modal/LoginModal.jsx","components/modal/LoginModalContainer.js","components/modal/ItemForm.jsx","components/modal/NewItemContainer.js","components/modal/ItemShowContainer.js","components/modal/ItemShow.jsx","components/page/ModalPageContainer.js","components/page/ModalPage.jsx","components/page/ModalForm.jsx","util/routeUtil.js","components/page/MainContainer.js","components/page/Main.jsx","components/outfit/ItemSlideShow.jsx","components/outfit/OutfitScrollbarContainer.js","components/outfit/OutfitScroll.jsx","components/navbar/NavbarContainer.js","components/navbar/Navbar.jsx","components/banner/Banner.jsx","components/banner/BannerContainer.js","components/outfit/Outfit.jsx","components/outfit/OutfitContainer.js","components/slider/ImgSliderComponent.jsx","components/dashboard/DashboardContainer.js","components/dashboard/Dashboard.jsx","components/outfit/DraggableItem2.jsx","components/outfit/OutfitCanvasContainer.jsx","components/outfit/OutfitCanvas.jsx","components/outfit/OutfitCreate.jsx","components/item/ItemIndexEach.jsx","components/item/ItemIndexContainer.js","components/item/ItemIndex.jsx","components/page/UserView.jsx","components/App.js","index.js"],"names":["setAuthToken","token","a","axios","defaults","headers","common","HIDE_MODAL","SHOW_MODAL","hideModal","type","showModal","modal","RECEIVE_CURRENT_USER","RECEIVE_SESSION_ERRORS","RECEIVE_USER_LOGOUT","receiveCurrentUser","currentUser","signup","user","dispatch","userData","post","then","res","data","refresh_token","localStorage","setItem","APIUtil","decoded","jwt_decode","login","logout","removeItem","initialState","isAuthenticated","undefined","instance","create","baseURL","interceptors","request","use","accessToken","getItem","Authorization","response","error","originalRequest","config","refreshToken","status","_retry","access_token","Promise","reject","RECEIVE_ALL_ITEMS","RECEIVE_ITEM","REMOVE_ITEM","RECEIVE_ITEM_ERRORS","receiveItem","item","fetchAllItems","get","items","receiveAllItems","fetchItem","id","ItemAPIUtil","createItem","RECEIVE_ALL_OUTFITS","RECEIVE_OUTFIT","REMOVE_OUTFIT","RECEIVE_OUTFIT_ERRORS","receiveOutfit","outfit","fetchAllOutfits","outfits","createOutfit","currentModal","entities","combineReducers","newState","state","action","Object","freeze","merge","_id","itemId","outfitId","rootReducer","session","configureStore","preloadedState","middleware","thunk","createStore","applyMiddleware","ModalContainer","children","className","ModalTypes","useModalRef","node","useRef","useEffect","document","addEventListener","handleClick","removeEventListener","e","current","contains","target","authValidation","formType","result","username","email","password","password2","length","test","isValidEmail","keys","SignupModal","useState","userinfo","setUserInfo","handleInput","value","setError","handleSubmit","preventDefault","ref","onSubmit","onChange","onClick","connect","asyncInterval","callback","ms","triesLeft","resolve","interval","setInterval","clearInterval","LoginModal","inputRef","setState","mockPassword","mockEmail","i","j","pre","click","withRouter","match","history","title","image","color","category","imageURL","params","update","field","currentTarget","formData","FormData","append","src","prevImgURL","files","fileReader","FileReader","onloadend","readAsDataURL","ItemForm","alt","whichModal","Modal","useMemo","ModalOption","NewItemModal","ShowItemModal","ModalForm","mapStateToProps","loggedIn","AuthRoute","Component","component","path","exact","render","props","to","ProtectedRoute","rest","method","name","placeholder","href","ItemSliderShow","translateDelta","useDrag","collect","monitor","isDragging","drag","style","transform","crossOrigin","userId","values","delta","itemsLeft","loading","handleButton","arg","renderItems","map","$oid","ownProps","Banner","handleSignout","window","location","Outfit","setTranslateDelta","setItemsLeft","OutfitContainer","isLoaded","setIsLoaded","DraggableItem","setTitle","createRef","useScreenshot","droppedItems","setDroppedItems","moveBox","useCallback","left","top","$merge","screenShot","Error","html2canvas","useCORS","canvas","croppedCanvas","createElement","croppedCanvasContext","getContext","cropWidth","width","cropHeight","height","drawImage","toDataURL","useDrop","accept","drop","getDifferenceFromInitialOffset","initialPos","getInitialClientOffset","Math","round","x","y","merged","mapped","key","push","OutfitCreate","OutfitCanvasContainer","ItemIndexEach","itemShowModal","UserView","DashboardContainer","ItemIndexContainer","App","store","DndProvider","backend","HTML5Backend","OutfitScrollbar","Main","from","decodedUser","currentTime","Date","now","exp","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98b7289b.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const setAuthToken = async token => {\n  if (token) {\n    return axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    return delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport const signup = (userData) => {\n  return axios.post('/api/users/register', userData);\n};\n\nexport const login = (userData) => {\n  return axios.post('/api/users/login', userData);\n};","export const HIDE_MODAL = 'HIDE_MODAL';\nexport const SHOW_MODAL = 'SHOW_MODAL';\n\nexport const hideModal = () => ({\n    type: HIDE_MODAL\n})\n\nexport const showModal = (modal) => ({\n    type: SHOW_MODAL,\n    modal\n})","import * as APIUtil from \"../util/sessionApiUtil\";\nimport jwt_decode from \"jwt-decode\";\nimport { hideModal } from './modalAction';\n\nexport const RECEIVE_CURRENT_USER = \"RECEIVE_CURRENT_USER\";\nexport const RECEIVE_SESSION_ERRORS = \"RECEIVE_SESSION_ERRORS\";\nexport const RECEIVE_USER_LOGOUT = \"RECEIVE_USER_LOGOUT\";\nexport const RECEIVE_USER_SIGN_IN = \"RECEIVE_USER_SIGN_IN\";\n\nexport const receiveCurrentUser = currentUser => ({\n  type: RECEIVE_CURRENT_USER,\n  currentUser\n});\n\nexport const receiveErrors = errors => {\n  return {\n    type: RECEIVE_SESSION_ERRORS,\n    errors\n  };\n};\n\nexport const logoutUser = () => ({\n  type: RECEIVE_USER_LOGOUT\n});\n\nexport const signup = user => dispatch =>\n  APIUtil.signup(user)\n    .then(res => {\n      const { token, refresh_token } = res.data;\n      localStorage.setItem(\"access_token\", token);\n      localStorage.setItem(\"refresh_token\", refresh_token);\n      APIUtil.setAuthToken(token);\n      const decoded = jwt_decode(token);\n      return dispatch(receiveCurrentUser(decoded));\n    })\n    .then(() => dispatch(hideModal()))\n    // .catch(err => dispatch(receiveErrors(err.response.data)));\n\nexport const login = user => dispatch =>\n  APIUtil.login(user)\n    .then(res => {\n      const { token, refresh_token } = res.data;\n      localStorage.setItem(\"access_token\", token);\n      localStorage.setItem(\"refresh_token\", refresh_token);\n      APIUtil.setAuthToken(token);\n      const decoded = jwt_decode(token);\n      return dispatch(receiveCurrentUser(decoded));\n    })\n    .then(() => dispatch(hideModal()))\n    // .catch(err => {\n    //   dispatch(receiveErrors(err.response.data));\n    // });\n\nexport const logout = () => dispatch => {\n  localStorage.removeItem(\"access_token\");\n  APIUtil.setAuthToken(false).then(() => dispatch(logoutUser()));\n};\n","import { RECEIVE_CURRENT_USER, RECEIVE_USER_LOGOUT} from '../action/sessionAction';\n\nconst initialState = {\nisAuthenticated: false,\nuser: undefined\n};\n\nexport const sessionReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case RECEIVE_CURRENT_USER:\n      return {\n      isAuthenticated: !!action.currentUser,\n      user: action.currentUser\n      };\n    case RECEIVE_USER_LOGOUT:\n      return {\n      isAuthenticated: false,\n      user: undefined\n      };\n    default:\n      return state;\n  }\n}\n","import axios from \"axios\";\n\nexport const instance = axios.create({\n  baseURL: \"/api\",\n});\n\ninstance.interceptors.request.use((request) => {\n  const accessToken = localStorage.getItem(\"access_token\");\n  if (accessToken && accessToken !== \"\") {\n    request.headers.Authorization = \"Bearer \" + accessToken;\n  }\n  return request;\n});\n\n\ninstance.interceptors.response.use(\n  response => {\n    return response;\n  },  \n  async (error) => {\n    const originalRequest = error.config;\n    let refreshToken = localStorage.getItem(\"refresh_token\");\n    if (\n      refreshToken &&\n      error.response.status === 401 &&\n      !originalRequest._retry\n    ) {\n      originalRequest._retry = true;\n      return instance\n        .post(`api/users/refresh`, { refreshToken: refreshToken })\n        .then((res) => {\n          if (res.status === 200) {\n            localStorage.setItem(\"accessToken\", res.data.access_token);\n            return instance(originalRequest);\n          }\n        });\n    }\n    return Promise.reject(error);\n  }\n);","import {instance} from \"./axiosinstance\";\n\nexport const fetchAllItems = () => {\n  return instance.get(\"/items\");\n};\n\nexport const fetchItem = id => {\n  return instance.get(`/items/${id}`);\n};\n\nexport const createItem = data => {\n  return instance.post(\"/items/add\", data);\n};\n\nexport const updateItem = (data, id) => {\n  return instance.post(`/items/update/${id}`, data);\n};\n\nexport const removeItem = data => {\n  return instance.get(`/items/${data.id}`);\n};\n","import * as ItemAPIUtil from \"../util/itemApiUtil\";\n\nexport const RECEIVE_ALL_ITEMS = \"RECEIVE_ALL_ITEMS\";\nexport const RECEIVE_ITEM = \"RECEIVE_ITEM\";\nexport const REMOVE_ITEM = \"REMOVE_ITEM\";\nexport const RECEIVE_ITEM_ERRORS = \"RECEIVE_ITEM_ERRORS\";\n\nexport const receiveAllItems = items => ({\n  type: RECEIVE_ALL_ITEMS,\n  items\n});\n\nexport const receiveItem = item => ({\n  type: RECEIVE_ITEM,\n  item: item.data\n});\n\nexport const removeItem = item => ({\n  type: REMOVE_ITEM,\n  itemId: item.id\n});\n\nexport const receiveItemErrors = errors => ({\n  type: RECEIVE_ITEM_ERRORS,\n  errors\n});\n\nexport const fetchAllItems = () => dispatch =>\n  ItemAPIUtil.fetchAllItems()\n  .then(items => dispatch(receiveAllItems(items)))\n  // .catch(error => dispatch(receiveItemErrors(error.responseJSON)))\n  \n\nexport const fetchItem = id => dispatch =>\n  ItemAPIUtil.fetchItem(id)\n  .then(item => dispatch(receiveItem(item)))\n  // .catch(err => dispatch(receiveItemErrors(err.responseJSON)))\n\nexport const createItem = item => dispatch =>\n  ItemAPIUtil.createItem(item)\n  .then(item => dispatch(receiveItem(item)))\n  // .catch(err => dispatch(receiveItemErrors(err.responseJSON)))\n\nexport const updateItem = (item, id) => dispatch =>\n  ItemAPIUtil.updateItem(item, id)\n  .then(item => dispatch(receiveItem(item)))\n  // .catch(err =>dispatch(receiveItemErrors(err.responseJSON)))\n","import * as OutfitAPIUtil from '../util/outfitApiUtil';\nimport { receiveItemErrors } from \"./itemAction\";\n\n\nexport const RECEIVE_ALL_OUTFITS = \"RECEIVE_ALL_OUTFITS\";\nexport const RECEIVE_OUTFIT = \"RECEIVE_OUTFIT\";\nexport const REMOVE_OUTFIT = \"REMOVE_OUTFIT\";\nexport const RECEIVE_OUTFIT_ERRORS = \"RECEIVE_OUTFIT_ERRORS\";\nexport const CREATE_OUTFIT = \"CREATE_OUTFIT\";\n\nexport const receiveAllOutfits = outfits => ({\n  type: RECEIVE_ALL_OUTFITS,\n  outfits\n});\n\nexport const receiveOutfit = outfit => ({\n  type: RECEIVE_OUTFIT,\n  outfit\n});\n\nexport const removeOutfit = outfit => ({\n  type: REMOVE_OUTFIT,\n  outfitId: outfit.id\n});\n\nexport const receiveOutfitErrors = errors => ({\n  type: RECEIVE_OUTFIT_ERRORS,\n  errors\n});\n\nexport const fetchAllOutfits = () => dispatch =>\n  OutfitAPIUtil.fetchAllOutfits()\n  .then(res => dispatch(receiveAllOutfits(res.data)))\n  // .catch(err => dispatch(receiveItemErrors(err.responseJSON)))\n  \n\nexport const fetchOutfit = id => dispatch =>\n  OutfitAPIUtil.fetchOutfit(id)\n  .then(res => dispatch(receiveOutfit(res.data)))\n  .catch(err => console.log(err))\n\nexport const createOutfit = outfit => dispatch =>\n  OutfitAPIUtil.createOutfit(outfit)\n    .then(res => dispatch(receiveOutfit(res.data)))\n    // .catch(err => dispatch(receiveOutfitErrors(err.responseJSON)));\n","import { instance } from \"./axiosinstance\";\n\nexport const fetchAllOutfits = () => {\n  return instance.get(\"/outfits\");\n};\n\nexport const fetchOutfit = id => {\n  return instance.get(`/outfit/${id}`);\n};\n\nexport const createOutfit = data => {\n  return instance.post(\"/outfits\", data);\n};\n\nexport const removeItem = data => {\n  return instance.get(`/outfits/${data.id}`);\n};\n","import {HIDE_MODAL, SHOW_MODAL} from '../action/modalAction';\n\nconst initialState = {\n    currentModal: null\n}\n\nexport const modalReducer = (state=initialState, action) => {\n    Object.freeze(state);\n    switch (action.type) {\n        case SHOW_MODAL:\n            return {currentModal: action.modal}\n        case HIDE_MODAL:\n            return {currentModal: null}\n        default:\n            return state\n    }\n}","import {combineReducers} from 'redux'\nimport {itemReducer} from './itemReducer'\nimport {outfitReducer} from './outfitReducer'\nimport {modalReducer} from './modalReducer';\n\nexport const entities = combineReducers({\n    items: itemReducer,\n    outfits: outfitReducer,\n    modal: modalReducer\n})","import {\n  RECEIVE_ALL_ITEMS,\n  RECEIVE_ITEM,\n  REMOVE_ITEM\n} from \"../action/itemAction\";\nimport merge from \"lodash/merge\";\n\nexport const itemReducer = (state = {}, action) => {\n  Object.freeze(state);\n  let newState;\n  switch (action.type) {\n    case RECEIVE_ALL_ITEMS:\n      return action.items.data;\n    case RECEIVE_ITEM:\n      return merge({}, state, { [action.item._id]: action.item });\n    case REMOVE_ITEM:\n      newState = merge({}, state);\n      delete newState[action.itemId];\n      return newState;\n    default:\n      return state;\n  }\n};\n\n","import {\n  RECEIVE_ALL_OUTFITS,\n  RECEIVE_OUTFIT,\n  REMOVE_OUTFIT\n} from \"../action/outfitAction\";\nimport merge from \"lodash/merge\";\n\nexport const outfitReducer = (state = {}, action) => {\n  Object.freeze(state);\n  let newState;\n  switch (action.type) {\n    case RECEIVE_ALL_OUTFITS:\n      return action.outfits;\n    case RECEIVE_OUTFIT:\n      return action.outfit;\n    case REMOVE_OUTFIT:\n      newState = merge({}, state);\n      delete newState[action.outfitId];\n      return newState;\n    default:\n      return state;\n  }\n};\n\n\n","import { combineReducers } from \"redux\"\nimport {sessionReducer} from './sessionReducer'\nimport {entities} from './entityReducer'\nimport {errorReducer} from './errorReducer';\n\nexport const rootReducer = combineReducers({\n    session: sessionReducer,\n    entities,\n    error: errorReducer\n})\n\n","import {RECEIVE_OUTFIT_ERRORS} from '../action/outfitAction';\nimport {RECEIVE_ITEM_ERRORS} from '../action/itemAction';\nimport {RECEIVE_SESSION_ERRORS} from '../action/sessionAction';\n\nexport const errorReducer = (state={}, action) => {\n    switch (action.type) {\n        case RECEIVE_OUTFIT_ERRORS:\n            return action.error\n        case RECEIVE_ITEM_ERRORS:\n            return action.error\n        case RECEIVE_SESSION_ERRORS:\n            return action.error\n        default:\n            return state\n    }\n}","import {applyMiddleware, createStore} from \"redux\"\nimport {rootReducer} from '../reducer/rootReducer';\nimport thunk from \"redux-thunk\"\nimport logger from \"redux-logger\"\n\n\nconst configureStore = (preloadedState = {}) => {\n    let middleware = [thunk]\n    if(process.env.NODE_ENV !== 'production'){\n        middleware = [...middleware, logger];\n    }\n    return createStore(rootReducer, preloadedState, applyMiddleware(...middleware))\n}\n\nexport default configureStore","\nexport const ModalContainer = ({children}) => {\n\n    return (\n        <div className=\"modal-container-background\">\n            {children}\n        </div>\n    )\n}","export const ModalTypes = {\n    SIGN_UP_MODAL : \"SIGN_UP_MODAL\",\n    LOG_IN_MODAL : \"LOG_IN_MODAL\",\n    SHOW_ITEM_MODAL: \"SHOW_ITEM_MODAL\",\n    NEW_ITEM_MODAL : \"NEW_ITEM_MODAL\"\n}   ","import {useRef, useEffect} from 'react'\n\nexport const useModalRef = (hideModal) => {\n\n    const node = useRef();\n\n    useEffect(()=>{    \n\n        document.addEventListener('mousedown', handleClick)\n    \n        return () => {\n            document.removeEventListener('mousedown', handleClick)\n        }\n        \n    }, [node])\n\n    const handleClick = (e) => {\n    \n        if(node.current.contains(e.target)){\n            return ;\n        }\n        hideModal();\n    }\n\n    return node\n\n}","const isValidEmail = (email) => {\n  const regEx = /\\S+@\\S+\\.\\S+/;\n  return regEx.test(email);\n};\n\nexport const authValidation = (data, formType) => {\n  const result = {};\n  const { username, email, password, password2 } = data;\n\n  if (formType !== \"signin\") {\n    username.length === 0 && (result[\"username\"] = \"username is required\");\n    password !== password2 &&\n      (result[\"passwordconfirm\"] = \"password don't mach\");\n  }\n\n  if (email.length === 0) {\n    result[\"email\"] = \"email is required\";\n  }\n  if (!isValidEmail(email)) {\n    result[\"email\"] = \"Invalid email\";\n  }\n  if (password.length <= 5) {\n    result[\"password\"] = \"Insecure password\";\n  }\n\n  return Object.keys(result).length === 0 ? [true] : [false, result];\n};\n\nexport const formText = (whichAuth, signin, registerUser) => {\n  const submitAction = whichAuth === \"signin\" ? signin : registerUser;\n  const title = whichAuth === \"signin\" ? \"Sign in\" : \"Create account\";\n  const buttonText = \"Continue\";\n  const optionText =\n    whichAuth === \"signin\" ? \"Join Sound.Log\" : \"Already have account\";\n  const switchModal = whichAuth === \"signin\" ? \"register\" : \"signin\";\n  return { submitAction, title, buttonText, optionText, switchModal };\n};\n","//MODAL DESIGN INSPIRED BY: https://codepen.io/alligatorio/pen/aYzMKL\n\nimport {useState} from \"react\";\nimport {useModalRef} from '../../hooks/useModal';\nimport { authValidation } from '../../util/authValidation';\nimport './modal.css';\n\nconst SignupModal = ({signup, hideModal}) => {\n\n  const [userinfo, setUserInfo] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\"\n  })\n\n  const handleInput = (type) => {\n    return e => setUserInfo({ ...userinfo, [type]: e.target.value });\n  }\n\n  const [error, setError] = useState({});\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const res = authValidation(userinfo, \"notsignin\")\n    if(res[0] !== true){\n      setError({...error, ...res[1]})\n      return;\n    }\n    signup(userinfo)\n  }\n\n\n  const handleClick = (type) => { \n    return e => setError({ ...error, [type]: undefined });\n  }\n    const node = useModalRef(hideModal)\n\n    return (\n          <div className=\"form-container\" ref={node}>\n            <div className=\"form-header\">Sign Up</div>\n            <br />\n            <form onSubmit={handleSubmit}>\n              <label>\n                Username:\n                <br />\n                <input type=\"text\" onChange={handleInput(\"username\")} onClick={handleClick('username')}/>\n                { error[\"username\"] && <p className=\"error-message\">{error[\"username\"]}</p>}\n              </label>\n              <br />\n              <label>\n                Email:\n                <br />\n                <input type=\"text\" onChange={handleInput(\"email\")} onClick={handleClick('email')}/>\n                { error[\"email\"] && <p className=\"error-message\">{error[\"email\"]}</p>}\n              </label>\n              <br />\n              <label>\n                Password:\n                <br />\n                <input\n                  type=\"password\"\n                  onChange={handleInput(\"password\")}\n                  onClick={handleClick('password')}\n                />\n                { error[\"password\"] && <p className=\"error-message\">{error[\"password\"]}</p>}\n              </label>\n              <br />\n              <label>\n                Re-enter Password:\n                <br />\n                <input\n                  type=\"password\"\n                  onChange={handleInput(\"password2\")}\n                  onClick={handleClick('password2')}\n                />\n                { error[\"password2\"] && <p className=\"error-message\">{error[\"password2\"]}</p>}\n              </label>\n              <br />\n              <div className=\"button-container\">\n                <button className=\"modal-button\" onClick={handleSubmit}>Sign Up</button>\n              </div>\n            </form>\n          </div>\n      \n    );\n  \n}\n\nexport default SignupModal;\n","import { connect } from \"react-redux\";\nimport { signup } from \"../../action/sessionAction\";\nimport { hideModal } from \"../../action/modalAction\";\nimport SignupModal from \"./SignupModal\";\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: user => dispatch(signup(user)),\n    hideModal: () => dispatch(hideModal())\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(SignupModal);\n","export const asyncInterval = async (callback, ms, triesLeft = 5) => {\n  return new Promise((resolve, reject) => {\n    const interval = setInterval(async () => {\n      if (await callback()) {\n        resolve();\n        clearInterval(interval);\n      } else if (triesLeft <= 1) {\n        reject();\n        clearInterval(interval);\n      }\n      triesLeft--;\n    }, ms);\n  });\n};\n","//MODAL DESIGN INSPIRED BY: https://codepen.io/alligatorio/pen/aYzMKL\nimport {useState, useRef} from \"react\";\nimport {useModalRef} from '../../hooks/useModal';\nimport { authValidation } from '../../util/authValidation';\nimport { asyncInterval } from \"../../util/asyncInterval\";\nimport './modal.css';\n\nconst LoginModal = ({login, hideModal}) => {\n  \n  const node = useModalRef(hideModal)\n  const inputRef = useRef(null);\n\n  const [state, setState] = useState({\n      email: \"\",\n      password: \"\"\n    })\n\n\n  const [error, setError] = useState({});\n    \n  const handleInput = (type) => {\n    return e => setState({ ...state, [type]: e.target.value });\n  }\n\n  const handleClick = (type) => { \n    return e => setError({ ...error, [type]: undefined });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const res = authValidation(state, \"signin\");\n    if(res[0] !== true){\n      setError({...error, ...res[1]})\n      return\n    }\n    login(state)\n  }\n\n\n  const handleDemoLogin = (e) => {\n    e.preventDefault();\n    const mockPassword = \"password123\";\n    const mockEmail = \"guest@email.com\";\n    let i = 0;\n    let j = 0;\n\n    asyncInterval(\n      () => {\n        setState(pre=>({email: pre['email']+mockEmail[j], password: pre[\"password\"]}));\n        j++;\n        return j === mockEmail.length;\n      },\n      80,\n      mockEmail.length\n    )\n      .then(() =>\n        asyncInterval(\n          () => {\n            setState(pre=>({email: pre['email'], password: pre[\"password\"]+mockPassword[i]}));\n            i++;\n            return i === mockPassword.length;\n          },\n          80,\n          mockPassword.length\n        )\n      )\n      .then(() => inputRef.current.click());\n  };\n\n    return (\n      <div className=\"form-container\" ref={node}>\n        <div className=\"form-header\">Login</div>\n        <br />\n        <form>\n          <label>\n            Email:\n            <br />\n            <input type=\"text\" onChange={handleInput(\"email\")} onClick={handleClick('email')} value={state['email']}/>\n            { error[\"email\"] && <p className=\"error-message\">{error[\"email\"]}</p>}\n          </label>\n          <br />\n          <label>\n            Password:\n            <br />\n            <input\n              type=\"password\"\n              onChange={handleInput(\"password\")}\n              onClick={handleClick('password')}\n              value={state['password']}\n            />\n            { error[\"password\"] && <p className=\"error-message\">{error[\"password\"]}</p>}\n          </label>\n          <br />\n          <div className=\"button-container\">\n            <button className=\"modal-button\" onClick={handleSubmit} ref={inputRef}>Log In</button>\n            <button className=\"modal-button\" onClick={handleDemoLogin}>Demo Login</button>\n          </div>\n        </form>\n      </div>\n    );\n}\n\nexport default LoginModal;\n","import { connect } from \"react-redux\";\nimport { login } from \"../../action/sessionAction\";\nimport { hideModal } from \"../../action/modalAction\";\nimport LoginModal from \"./LoginModal\";\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: user => dispatch(login(user)),\n    hideModal: () => dispatch(hideModal())\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(LoginModal);\n","import { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport {useModalRef} from '../../hooks/useModal';\nimport './modal.css'\n\nconst ItemForm = ({formType, item, fetchItem, match, history, action, hideModal}) => {\n  \nconst node = useModalRef(hideModal)\n\nconst [state, setState] = useState({\n    user: '',\n    title: '',\n    image: '',\n    color: '',\n    category: '',\n    imageURL: ''\n})\n\nuseEffect(()=>{\n    if (formType === \"Update Item\") {\n      fetchItem(match.params.itemId)\n        .then(() => setState(...state));\n    }\n  }, [])\n\n  const update = (field) => {\n    return e => {\n      setState({\n        ...state,\n        [field]: e.currentTarget.value\n      });\n    };\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"title\", state.title);\n    if (state.image) {\n      formData.append(\"image\", state.image);\n    }\n    if (state.imageURL) {\n      formData.append(\"imageURL\", state.imageURL);\n    }\n    formData.append(\"category\", state.category);\n    formData.append(\"color\", state.color);\n    action(formData, item && item._id)\n      .then(() => hideModal());\n  }\n\n  const handleImageFile = (e) => {\n    const image = e.currentTarget.files[0];\n    const fileReader = new FileReader();\n    fileReader.onloadend = () => {\n      setState({\n        ...state,\n        image,\n        \"prevImgURL\": fileReader.result\n      });\n    };\n    if (image) {\n      fileReader.readAsDataURL(image);\n    }\n  }\n\n    return (\n      <div className=\"new-form-container\" ref={node}>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-image\">\n            <img className=\"track-img-preview\" src={state.prevImgURL}/>\n            <input type=\"file\" onChange={handleImageFile} />\n          </div>\n          <div className=\"form-fields\">\n            <label>Item Name: <br/>\n              <input\n                type=\"text\"\n                value={state.title}\n                onChange={update(\"title\")}\n              />\n            </label>\n            <select\n              onChange={update(\"category\")}\n              value={state.category}\n            >\n              <option>category</option>\n              <option value=\"coat\">coat</option>\n              <option value=\"jacket\">jacket</option>\n              <option value=\"blazer\">blazer</option>\n              <option value=\"vest\">vest</option>\n              <option value=\"dress\">dress</option>\n              <option value=\"jumpsuit\">jumpsuit</option>\n              <option value=\"shirt/blouse\">shirt/blouse</option>\n              <option value=\"t-shirt\">t-shirt</option>\n              <option value=\"tank top\">tank top</option>\n              <option value=\"bodysuit\">bodysuit</option>\n              <option value=\"sweatshirt\">sweatshirt</option>\n              <option value=\"sweater\">sweater</option>\n              <option value=\"cardigan\">cardigan</option>\n              <option value=\"pants\">pants</option>\n              <option value=\"jeans\">jeans</option>\n              <option value=\"leggings\">leggings</option>\n              <option value=\"shorts\">shorts</option>\n              <option value=\"skirt\">skirt</option>\n              <option value=\"shoes\">shoes</option>\n              <option value=\"bag\">bag</option>\n              <option value=\"accessory\">accessory</option>\n              <option value=\"etc\">etc</option>\n            </select>\n\n            <select onChange={update(\"color\")} value={state.color}>\n              <option>color</option>\n              <option value=\"black\">black</option>\n              <option value=\"grey\">grey</option>\n              <option value=\"white\">white</option>\n              <option value=\"beige\">beige</option>\n              <option value=\"brown\">brown</option>\n              <option value=\"metallic\">metallic</option>\n              <option value=\"purple\">purple</option>\n              <option value=\"blue\">blue</option>\n              <option value=\"green\">green</option>\n              <option value=\"yellow\">yellow</option>\n              <option value=\"orange\">orange</option>\n              <option value=\"pink\">pink</option>\n              <option value=\"off-white\">off-white</option>\n              <option value=\"red\">red</option>\n              <option value=\"neon\">neon</option>\n              <option value=\"etc\">etc</option>\n            </select>\n\n            <input type=\"submit\" value={formType} />\n          </div>\n        </form>\n      </div>\n    );\n}\n\nexport default withRouter(ItemForm);\n","import { connect } from \"react-redux\";\nimport { createItem } from \"../../action/itemAction\";\nimport { fetchItem } from \"../../action/itemAction\";\nimport { hideModal } from '../../action/modalAction'\nimport ItemForm from \"./ItemForm\";\n\nconst mapStateToProps = ({session:{user:{currentUser}}}, {match, history}) => {\n  return {\n    currentUser,\n    item: null,\n    formType: \"Create Item\",\n    match,\n    history\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    action: item => dispatch(createItem(item)),\n    fetchItem : (id) => dispatch(fetchItem(id)),\n    hideModal: () => dispatch(hideModal())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ItemForm);\n","import { connect } from \"react-redux\";\nimport { fetchItem } from \"../../action/itemAction\";\nimport { ItemShow } from \"./ItemShow\";\n\nconst mapStateToProps = ({entities:{items}}, {itemId}) => {\n  return {\n    item: items[itemId]\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchItem: id => dispatch(fetchItem(id))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ItemShow);\n","import {useEffect} from \"react\";\nimport './modal.css';\nimport './item.css';\n\nexport const ItemShow = ({fetchItem, itemId, item, hideModal}) => {\n\n    useEffect(() => {\n        if(itemId){\n            fetchItem(itemId); \n        }\n    }, [])\n\n    if (!item) {\n      return null;\n    }\n\n    return (\n      <div className=\"show-item-container\" >\n        <div className=\"show-item-contents\">\n          <div>{item.title}</div>\n          <img src={item.imageURL} id=\"show-image\" alt={`item id: ${item._id}`}/>\n        </div>\n      </div>\n    );\n}\n\n\n","import {connect} from 'react-redux'\nimport {ModalPage} from './ModalPage';\nimport {hideModal} from '../../action/modalAction';\n\n\nconst mapStateToProps = ({entities:{modal:{currentModal}}}) => ({\n    whichModal:currentModal\n})\n\nconst mapDispatchToProps = dispatch => ({\n    hideModal: () => dispatch(hideModal())\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalPage)\n\n","import { useMemo} from 'react';\nimport {ModalContainer} from '../modal/ModalContainer';\nimport { ModalForm } from './ModalForm';\nimport './modalPage.css';\n\n\nexport const ModalPage = ({whichModal}) => {\n    \n    const Modal = useMemo(() => {\n        return ModalForm(whichModal)\n    }, [whichModal])\n\n    if (!whichModal) return null\n\n\n\n    return (<ModalContainer>\n                <Modal />\n            </ModalContainer>) \n}\n","import {ModalTypes} from '../modal/modalType';\nimport SignupModal from '../modal/SignupModalContainer';\nimport LoginModal from '../modal/LoginModalContainer';\nimport NewItemModal from '../modal/NewItemContainer';\nimport ShowItemModal from '../modal/ItemShowContainer';\n\n\nexport const ModalForm = (whichModal) => {\n\n    let ModalOption = \"\"\n\n    switch (whichModal) {\n        case ModalTypes.SIGN_UP_MODAL:\n            ModalOption =  SignupModal;\n            break;\n        case ModalTypes.LOG_IN_MODAL:\n             ModalOption =  LoginModal; \n             break;\n        case ModalTypes.NEW_ITEM_MODAL:\n             ModalOption =  NewItemModal; \n             break;\n        case ModalTypes.SHOW_ITEM_MODAL:\n             ModalOption =  ShowItemModal;\n             break;\n        default:\n            ModalOption = null\n            break;\n        }\n        return ModalOption \n\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\n\nconst Auth = ({ component: Component, path, loggedIn, exact }) => (\n  <Route\n    path={path}\n    exact={exact}\n    render={props =>\n      !loggedIn ? <Component {...props} /> : <Redirect to=\"/dashboard\" />\n    }\n  />\n);\n\nconst Protected = ({ component: Component, loggedIn, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n    }\n  />\n);\n\nconst mapStateToProps = state => ({ loggedIn: state.session.isAuthenticated });\n\nexport const AuthRoute = withRouter(connect(mapStateToProps)(Auth));\nexport const ProtectedRoute = withRouter(connect(mapStateToProps)(Protected));\n","import { connect } from \"react-redux\";\nimport { showModal } from \"../../action/modalAction\";\nimport { Main } from \"./Main\";\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    showModal: (type) => dispatch(showModal(type))\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Main);\n","\nimport { ModalTypes } from '../modal/modalType';\nimport './mainpage.css';\nimport './main.css';\n\nexport const Main = ({showModal}) => {\n  \n    return (\n      <div className=\"main-page-container\">\n        \n        <div id=\"page-wrapper\">\n          {/* <!-- Header --> */}\n          <section id=\"header\">\n            <div className=\"container\">\n              {/* <!-- Logo --> */}\n              <h1 id=\"logo\">\n                <div>Closet X</div>\n              </h1>\n              <p>\n                An interactive and responsive online closet. Create and share\n                outfits with your friends.\n              </p>\n\n              {/* <!-- Nav --> */}\n              <nav id=\"nav\">\n                <ul>\n                  <li>\n                    <div>\n                      <button onClick={()=>showModal(ModalTypes.LOG_IN_MODAL)}>Login</button>\n                    </div>\n                  </li>\n                  <li >\n                    <div>\n                      <button onClick={()=>showModal(ModalTypes.SIGN_UP_MODAL)}>Signup</button>\n                    </div>\n                  </li>\n                </ul>\n              </nav>\n            </div>\n          </section>\n\n          {/* <!-- Banner --> */}\n          <section id=\"banner\">\n            <div className=\"container\">\n              <p>\n                \"Gosh, I <strong>never</strong> know what to wear.\n                <br />\n                Oh wait, I can just go on <strong>Closet X</strong>!\"\n              </p>\n            </div>\n          </section>\n\n          {/* <!-- Features --> */}\n          <section id=\"features\">\n            <div className=\"container\">\n              <header>\n                <h2>\n                  Behold! This is <strong>Closet X</strong>!\n                </h2>\n              </header>\n              <div className=\"row aln-center\">\n                <div className=\"col-4 col-6-medium col-12-small\">\n                  {/* <!-- Feature --> */}\n                  <section>\n                    <div className=\"image featured\">\n                      <img src=\"images/splash-1.jpg\" alt=\"\" />\n                    </div>\n                    <header>\n                      <h3>Okay, so what is this?</h3>\n                    </header>\n                    <p>\n                      This is <strong>Closet X</strong>, a free, fully\n                      responsive site catered to your digital closet needs.\n                    </p>\n                  </section>\n                </div>\n                <div className=\"col-4 col-6-medium col-12-small\">\n                  {/* <!-- Feature --> */}\n                  <section>\n                    <div className=\"image featured\">\n                      <img src=\"images/splash-2.jpg\" alt=\"\" />\n                    </div>\n                    <header>\n                      <h3>Nice! What's the point?</h3>\n                    </header>\n                    <p>\n                      Create and share outfits from your closet with your\n                      friends! If you run out of outfit ideas, you can have your\n                      friends or strangers suggest outfits for you based on your\n                      closet!\n                    </p>\n                  </section>\n                </div>\n                <div className=\"col-4 col-6-medium col-12-small\">\n                  {/* <!-- Feature --> */}\n                  <section>\n                    <div className=\"image featured\">\n                      <img src=\"images/splash-3.jpg\" alt=\"\" />\n                    </div>\n                    <header>\n                      <h3>What's this built with?</h3>\n                    </header>\n                    <p>\n                      <strong>Responsive Tools</strong> is a simple set of tools\n                      for building responsive sites and apps. We also use\n                      <strong>\n                        MongoDB, Express JS, React JS, and Node JS!\n                      </strong>\n                    </p>\n                  </section>\n                </div>\n                <div className=\"col-12\">\n                  <ul className=\"actions\">\n                    <li>\n                      <div\n                        onClick={()=>showModal(ModalTypes.SIGN_UP_MODAL)}\n                        className=\"button icon solid fa-sitemap\"\n                      >\n                        Signup Today!\n                      </div>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/* <!-- Features --> */}\n          <section id=\"features\">\n            <div className=\"container\">\n              <header>\n                <h2>Still not convinced?</h2>\n                <h3>Here are some outfits created by our users!</h3>\n              </header>\n              <div className=\"row aln-center\">\n                <div className=\"col-4 col-6-medium col-12-small\">\n                  {/* <!-- Feature --> */}\n                  <section>\n                    <div className=\"image featured\">\n                      <img src=\"/images/splash-4.jpg\" alt=\"\" />\n                    </div>\n                    <header>\n                      <h3>\n                        <strong>@ILoveFendi</strong>\n                      </h3>\n                    </header>\n                    <p>Classy New York City Look.</p>\n                  </section>\n                </div>\n                <div className=\"col-4 col-6-medium col-12-small\">\n                  {/* <!-- Feature --> */}\n                  <section>\n                    <div className=\"image featured\">\n                      <img src=\"images/splash-5.jpg\" alt=\"\" />\n                    </div>\n                    <header>\n                      <h3>\n                        <strong>@SupremeRUS</strong>\n                      </h3>\n                    </header>\n                    <p>Perfect for a day in Los Angeles.</p>\n                  </section>\n                </div>\n                <div className=\"col-4 col-6-medium col-12-small\">\n                  {/* <!-- Feature --> */}\n                  <section>\n                    <div className=\"image featured\">\n                      <img src=\"images/splash-6.jpg\" alt=\"\" />\n                    </div>\n                    <header>\n                      <h3>\n                        <strong>@Pallette</strong>\n                      </h3>\n                    </header>\n                    <p>Fun summer dress with accessories!</p>\n                  </section>\n                </div>\n                <div className=\"col-12\">\n                  <ul className=\"actions\">\n                    <li>\n                      <div\n                        onClick={()=>showModal(ModalTypes.LOG_IN_MODAL)}\n                        className=\"button icon solid fa-sitemap\"\n                      >\n                        Signup Today!\n                      </div>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/* <!-- Footer --> */}\n          <section id=\"footer\">\n            <div className=\"container\">\n              <header>\n                <h2>\n                  Questions or comments? <strong>Get in touch:</strong>\n                </h2>\n              </header>\n              <div className=\"row\">\n                <div className=\"col-6 col-12-medium\">\n                  <section>\n                    <form method=\"post\" action=\"#\">\n                      <div className=\"row gtr-50\">\n                        <div className=\"col-6 col-12-small\">\n                          <input name=\"name\" placeholder=\"Name\" type=\"text\" />\n                        </div>\n                        <div className=\"col-6 col-12-small\">\n                          <input name=\"email\" placeholder=\"Email\" type=\"text\" />\n                        </div>\n                        <div className=\"col-12\">\n                          <textarea name=\"message\" placeholder=\"Message\" />\n                        </div>\n                        <div className=\"col-12\">\n                          <a\n                            href=\"mailto: closet-x@gmail.com\"\n                            className=\"form-button-submit button icon solid fa-envelope\"\n                          >\n                            Send Message\n                          </a>\n                        </div>\n                      </div>\n                    </form>\n                  </section>\n                </div>\n                <div className=\"col-6 col-12-medium\">\n                  <section>\n                    <p>\n                      We here at Closet X are always looking for feedback. If\n                      you have any suggestions on making the site better or just\n                      want to say hi, leave us a message here! We are a small\n                      team of 3 looking to make a change in the social media\n                      fashion industry! Additionally, our LinkedIns and GitHubs\n                      are below if you're looking to hire one of us.\n                    </p>\n                    \n                  </section>\n                </div>\n              </div>\n            </div>\n            <div id=\"copyright\" className=\"container\">\n              <ul className=\"links\">\n                <li>&copy; ClosetX. All rights reserved.</li>\n              </ul>\n            </div>\n          </section>\n        </div>\n      </div>\n    );\n  \n}\n\n\n","import {useDrag} from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\n\n\nexport const ItemSliderShow = ({item, translateDelta}) => {\n  \n  const { _id,imageURL } = item;\n  \n  const [{isDragging}, drag, preview] = useDrag(() => {\n    return {\n    type: \"Image\",\n    item: { _id, imageURL},\n    collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n    })\n  }\n}, [_id, imageURL])\n\n    return(\n      <div\n        className=\"outfit-item-vert\"\n        style={{ transform: `translateY(${translateDelta}%)` }}\n      >\n        <div>Title</div>\n        <div className=\"outfit-item-img-div\" ref={drag} >\n          <img crossOrigin=\"Anonymous\" className=\"item-img\" src={`${imageURL}?liuahvanb`} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n\n\n\n","import { connect } from \"react-redux\";\nimport { fetchAllItems } from \"../../action/itemAction\";\nimport { OutfitScrollbar } from \"./OutfitScroll\";\n\nconst mapStateToProps = ({session:{user:{id}}, entities:{items}}) => {\n  return {\n    userId: id,\n    items: Object.values(items),\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchAllItems: (id) => dispatch(fetchAllItems(id))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OutfitScrollbar);\n","import {useState, useEffect, useRef} from \"react\";\nimport {ItemSliderShow} from \"./ItemSlideShow\";\n\nimport './Outfit.css';\n\nexport const OutfitScrollbar = ({fetchAllItems, userId, items}) => {\n  \n  const [state, setState] = useState({\n    translateDelta: 0,\n    delta: 300,\n    itemsLeft: 0\n  });\n\n  const loading = useRef(true)\n\n  useEffect(() => {\n    if(loading.current){\n      fetchAllItems(userId)\n      .then(()=> setState({...state, itemsLeft: items.length-3}))\n      .then(() => loading.current = false)\n    }\n  }, [])\n\n  const handleButton = (arg) => {\n    const { translateDelta, delta, itemsLeft } = state;\n\n    if (arg === \"prev\" && translateDelta + delta <= 0) {\n      setState({\n        ...state,\n        translateDelta: translateDelta + delta,\n        itemsLeft: itemsLeft + 3\n      });\n    } else if (arg === \"next\" && itemsLeft >= 0) {\n      setState({\n        ...state,\n        translateDelta: translateDelta - delta,\n        itemsLeft: itemsLeft - 3\n      });\n    }\n  }\n\n  if(!items) return null\n\n  const renderItems = items.map(item => {\n\n    return (\n        <ItemSliderShow\n          key={item._id.$oid}\n          item={item}\n          translateDelta={state.translateDelta}\n        />\n    );\n  });\n\n\n  return (\n    <div className=\"outfit-item-slider\">  \n      <div className=\"item-scroll-header\">Items</div>\n      <div className=\"item-slide-index\">{renderItems}</div>\n      <div className=\"dashboard-buttons-vert\">\n        <button onClick={() => handleButton(\"prev\")}>&and;</button>\n        <button onClick={() => handleButton(\"next\")}>&or;</button>\n      </div>\n    </div>\n  );\n  \n}\n\n\n","import { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"\r\nimport {NavBar} from \"./Navbar\";\r\nimport { logout } from \"../../action/sessionAction\";\r\nimport { showModal } from '../../action/modalAction'\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  match: ownProps.match\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch(logout()),\r\n    showModal: (type) => dispatch(showModal(type))\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NavBar));","import React from 'react';\nimport { Link} from 'react-router-dom'\nimport {ModalTypes} from '../modal/modalType';\nimport './navbar.css'\n\nexport const NavBar = ({match, showModal}) => {\n  \n    return (\n      <div className=\"nav-bar\">\n        <div className=\"nav-bar-logo\">\n        </div>\n        <div className=\"nav-bar-item-container\">\n            <div className=\"menu-option\"><Link to=\"/dashboard\">Dashboard</Link></div>\n            <div className=\"menu-option\"><Link to=\"/closet\">Your closet</Link></div>\n            { match.params[0] === \"closet\" ||  match.params[0] === \"outfits\" ? <div className=\"sub-menu\" onClick={()=>showModal(ModalTypes.NEW_ITEM_MODAL)}> &nbsp; - &nbsp; Add Item</div> : null}\n            { match.params[0] === \"closet\" ||  match.params[0] === \"outfits\" ? <div className=\"sub-menu\" ><Link to=\"/outfits/new\"> &nbsp; - &nbsp; Add Outfit</Link></div> : null}\n        </div>\n\n      </div>\n    )\n  \n}\n\n","import React from \"react\";\r\nimport './banner.css';\r\n\r\nconst Banner = ({logout}) => {\r\n\r\n\r\n    const handleSignout = async () => {\r\n      await logout()\r\n      window.location.href = \"/\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"user-banner\">\r\n        <div>CLOSET-X</div>\r\n        <div className=\"banner-sign-out\" onClick={handleSignout}>sign out</div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Banner;","import { connect } from \"react-redux\";\r\nimport Banner from \"./Banner\";\r\nimport { logout } from \"../../action/sessionAction\";\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch(logout())\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Banner);","import { withRouter } from \"react-router-dom\";\nimport './Outfit.css'\n\nconst Outfit = ({outfit, translateDelta}) => {\n  \n\n    const { imageURL, title, username } = outfit;\n\n    return (\n      <div\n        className=\"outfit-item\"\n        style={{ transform: `translateX(${translateDelta}%)` }}\n      >\n        <div className=\"outfit-img-div\">\n          <img className=\"outfit-img\" src={imageURL} alt=\"\" />\n        </div>\n        <div>Title: {title}</div>\n        <div>Username: {username}</div>\n      </div>\n    );\n  }\n\nexport default withRouter(Outfit);\n","import { connect } from \"react-redux\";\nimport Outfit from \"./Outfit\";\n\nconst mapStateToProps = ({ state, ownProps }) => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Outfit);\n","import {useState, useEffect} from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport OutfitContainer from \"../outfit/OutfitContainer\";\nimport \"./ImgSlider.css\"\n\nconst SliderComponent = ({items}) => {\n  \n  const [translateDelta, setTranslateDelta] = useState(0)\n  // const [delta, setDelta] = useState(300)\n  const delta = 300\n  const [itemsLeft, setItemsLeft] = useState(0)\n\n  useEffect(() => {\n    if(items) {\n      setItemsLeft(items.length-3)\n    }\n  }, [])\n\n\n  const handleButton = (arg) => {\n    \n    // TODO:\n    // implment some sort of throttling function\n    // to prevent bad UX\n    // prev <= 0 to prevent over scrolling\n    if (arg === \"prev\" && translateDelta + delta <= 0) {\n      setTranslateDelta(translateDelta+delta)\n      setItemsLeft(itemsLeft+3)\n    } else if (arg === \"next\" && itemsLeft > 0) {\n      setTranslateDelta(translateDelta-delta)\n      setItemsLeft(itemsLeft-3)\n    }\n  }\n\n\n    const renderItems = items.map(item => {\n      return (\n        <OutfitContainer\n          key={item._id}\n          outfit={item}\n          translateDelta={translateDelta}\n        />\n      );\n    });\n\n    return (\n      <div className=\"img-slider\">\n        <div className=\"outfit-index\">{renderItems}</div>\n        <div className=\"dashboard-buttons\">\n          <button onClick={() => handleButton(\"prev\")}>{\"<<<\"}</button>\n          <button onClick={() => handleButton(\"next\")}>{\">>>\"}</button>\n        </div>\n      </div>\n    );\n  \n}\n\nexport default withRouter(SliderComponent);\n","import { connect } from \"react-redux\";\nimport { logout } from \"../../action/sessionAction\";\nimport {fetchAllOutfits} from '../../action/outfitAction';\nimport {Dashboard} from \"./Dashboard\";\n\nconst mapStateToProps = ({entities: {outfits}}) => ({\n  outfits\n})\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(logout()),\n    fetchAllOutfits: () => dispatch(fetchAllOutfits())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Dashboard);\n","import { useEffect, useState } from 'react'\nimport SliderComponent from \"../slider/ImgSliderComponent\";\nimport './Dashboard.css'\n\nexport const Dashboard = ({ fetchAllOutfits, outfits }) => {\n\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n      fetchAllOutfits().then(() => setIsLoaded(true))\n  }, [])\n\n  if(!isLoaded){\n    return null;\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <h1>Trending</h1>\n      <SliderComponent items={outfits} />\n      <h1>Friends</h1>\n      <SliderComponent items={outfits} />\n    </div>\n  );\n}\n","import Draggable from 'react-draggable'\nimport './draggableitem2.css'\n\nexport const DraggableItem = ({imageURL}) => {\n\nreturn (\n    <Draggable>\n        <img crossOrigin=\"Anonymous\" className=\"drag-wrapper\" src={imageURL} alt=\"\"/>\n    </Draggable>\n    )\n\n}","import { connect } from \"react-redux\";\nimport { createOutfit } from \"../../action/outfitAction\"\nimport { withRouter } from \"react-router\";\nimport {OutfitCanvas} from \"./OutfitCanvas\";\n\nconst mapStateToProps = ({session:{user:{id}}}) => {\n  return {\n    user: id\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createOutfit: outfit => dispatch(createOutfit(outfit))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(OutfitCanvas))","import {createRef, useState, useCallback} from 'react';\nimport update from 'immutability-helper';\nimport {useDrop} from 'react-dnd';\nimport { useScreenshot } from 'use-react-screenshot'\nimport html2canvas from 'html2canvas';\n// import {DraggableBox} from './DraggableItem';\nimport {DraggableItem} from './DraggableItem2';\nimport './Outfit.css';\n\nexport const OutfitCanvas = ({createOutfit, history}) => {\n\n    const [title, setTitle] = useState('');\n\n    const ref = createRef(null)\n    const [image, takeScreenshot] = useScreenshot()\n    const getImage = () => takeScreenshot(ref.current)\n\n    const [droppedItems, setDroppedItems] = useState({})\n\n    const moveBox = useCallback((_id, left, top) => {\n        setDroppedItems(\n            update(droppedItems, {\n                [_id]: {\n                $merge: { left, top }}\n            }));\n    },[droppedItems]);\n\n    const handleSave = (e) => {\n        e.preventDefault();\n        screenShot(ref)\n        .then((res)=>{\n            const formData = new FormData();\n            formData.append(\"title\", title);\n            formData.append(\"file\", res);\n            return createOutfit(formData)\n        })\n        .then(res => history.push(\"/\"));\n    }\n\n    const handleClear = (e) => {\n        e.preventDefault();\n\n        setDroppedItems({})\n        setTitle('')\n    }\n\n    const handleChange = (e) => {\n        setTitle(e.currentTarget.value)\n    }\n\n    const screenShot = (node) => {\n        if (!node) {\n            throw new Error('You should provide correct html node.');\n        }\n\n        return html2canvas((node.current), {useCORS: true})\n        .then((canvas) => {\n            \n            const croppedCanvas = document.createElement('canvas');\n            const croppedCanvasContext = croppedCanvas.getContext('2d');\n            let cropWidth = canvas.width;\n            let cropHeight = canvas.height;\n            let cropPositionTop = 0;\n            let cropPositionLeft = 0;\n            croppedCanvas.width = cropWidth;\n            croppedCanvas.height = cropHeight;\n            croppedCanvasContext.drawImage(canvas, cropPositionLeft, cropPositionTop);\n\n            let base64Image = croppedCanvas.toDataURL();\n            return base64Image;\n            \n    })};\n\n\n    const [, drop] = useDrop(()=>(\n        {\n        accept: \"Image\",\n        drop: (item, monitor) => {\n            const delta = monitor.getDifferenceFromInitialOffset();\n            const initialPos = monitor.getInitialClientOffset();\n        \n            let left = Math.round((item.left || initialPos.x) + delta.x);\n            let top = Math.round((item.top || initialPos.y) + delta.y);\n\n            if(droppedItems[item._id.$oid] === undefined){\n                let merged = update(droppedItems, {$merge: {[item._id.$oid]: item}})\n                setDroppedItems(update(\n                    merged, {\n                        [item._id.$oid]: {\n                            $merge: {left, top}\n                        }\n                    }\n                ))\n            }else{\n                moveBox(item._id, left, top);\n            }\n            return undefined;\n        }\n    }), [moveBox])\n\n    // React-dnd version \n    // const mapped = Object.keys(droppedItems).length > 0 ? Object.keys(droppedItems).map((key) => {\n    //     return (\n    //         <DraggableBox key={key} {...droppedItems[key]} />\n    //     )}) :  <></>\n\n\n    //Draggable version\n    const mapped = Object.keys(droppedItems).length > 0 ? Object.keys(droppedItems).map((key) => {\n        \n        return (\n            <DraggableItem key={key} {...droppedItems[key]} />\n        )}) :  <></>\n\n    return(\n        <div className=\"canvas-container\">\n            <div ref={drop} className=\"canvas\">\n                <div ref={ref} className=\"capture\">\n                        {mapped}\n                </div>\n            </div>\n            <div className=\"outfit-create-options\">\n                <input type=\"text\" value={title} \n                    onChange={handleChange}\n                    placeholder=\"Outfit Title...\"></input>\n                <div className=\"outfit-button-container\">\n                    <button onClick={handleClear}>Clear</button>\n                    <button onClick={handleSave}>Save</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n","import OutfitCanvasContainer from \"./OutfitCanvasContainer\";\nimport OutfitScrollBarContainer from \"./OutfitScrollbarContainer\";\n\nimport './Outfit.css'\n\nexport const OutfitCreate = () => {\n\n  return (\n    <div className=\"outfit-create-container\">\n      <OutfitCanvasContainer />\n      <div className=\"outfit-items-scrollbar\">\n        <OutfitScrollBarContainer />\n      </div>\n    </div>\n  );\n  \n}\n\n\n","\n\nexport const ItemIndexEach = ({item, itemShowModal}) => {\n  return (\n    <div className=\"item-index-item-container\">\n      <img\n        className=\"item-index-item\"\n        src={item.imageURL}\n        // onClick={() => itemShowModal(item._id)}\n        alt={`item: ${item._id}`}\n      />\n    </div>\n  );\n};\n\n\n\n","import { connect } from \"react-redux\";\nimport { fetchAllItems } from \"../../action/itemAction\";\nimport { showModal } from '../../action/modalAction';\nimport { ItemIndex } from \"./ItemIndex\";\n\nconst mapStateToProps = ({session:{user:{id}}, entities:{items}}, ownProps) => {\n  return {\n    userId: id,\n    items: Object.values(items)\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  fetchAllItems: (id) => dispatch(fetchAllItems(id)),\n  showModal: (type) => dispatch(showModal(type))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ItemIndex);\n","import {useState, useEffect} from \"react\";\nimport {ItemIndexEach} from \"./ItemIndexEach\";\nimport {ModalTypes} from '../modal/modalType'\n\n\nimport './itemindex.css';\n\nexport const ItemIndex = ({fetchAllItems, items, userId, showModal }) => {\n\n  const [itemId, setItemId] = useState(null)\n\n\n  // const itemShowModal = (id) => {\n  //   setItemId(id)\n  //   showModal(ModalTypes.SHOW_ITEM_MODAL)\n  // }\n\n\n  useEffect(() => {\n      fetchAllItems(userId);\n  }, [])\n  \n  \n\n \n    let mapped = items.map(item => (\n      <ItemIndexEach key={item._id} itemShowModal={()=>showModal(ModalTypes.SHOW_ITEM_MODAL)} item={item} />\n    ));\n\n    \n    return (\n      <div className=\"item-index-container\">\n        {items.length === 0 ? <button onClick={()=>showModal(ModalTypes.NEW_ITEM_MODAL)}>Add Item</button> : \n          <>\n            <div className=\"item-index-items-container\">\n              {mapped}\n            </div>\n          </>\n        }\n      </div>\n    );\n  \n}\n\n\n","import { Switch, Route } from \"react-router-dom\";\nimport NavBarContainer from \"../navbar/NavbarContainer\";\nimport Banner from \"../banner/BannerContainer\";\nimport DashboardContainer from \"../dashboard/DashboardContainer\";\nimport { OutfitCreate } from \"../outfit/OutfitCreate\";\nimport ItemIndexContainer from \"../item/ItemIndexContainer\";\nimport './Userview.css'\n\n\nexport const UserView = () => {\n  return (\n    <div className=\"user-view\">\n      <Banner />\n      <div className=\"user-body\">\n        <NavBarContainer />\n        <Switch>\n          <Route path=\"/dashboard\" component={DashboardContainer} />\n          <Route path=\"/closet\" component={ItemIndexContainer} />\n          <Route path=\"/outfits/new\" component={OutfitCreate} />\n        </Switch>\n      </div> \n    </div>\n  );\n};\n\n\n","import Modal from './page/ModalPageContainer';\nimport {Route, Switch, Redirect} from \"react-router-dom\";\nimport {AuthRoute, ProtectedRoute} from \"../util/routeUtil\";\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\nimport Main from \"./page/MainContainer\";\nimport OutfitScrollbar from './outfit/OutfitScrollbarContainer'\nimport {UserView} from \"./page/UserView\";\nimport { DndProvider } from \"react-dnd\";\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Modal />\n      <Switch>\n        <DndProvider backend={HTML5Backend}>\n          <Route\n          path=\"/(dashboard|closet|outfits|upload|itemindex)\"\n          component={UserView} />\n          <ProtectedRoute path=\"/items\" component={OutfitScrollbar}/>\n          <AuthRoute exact path=\"/\" component={Main} />\n          <Redirect from=\"/\" to=\"/\" />\n        </DndProvider>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport { HashRouter } from \"react-router-dom\";\nimport configureStore from './store/store';\nimport {Provider} from 'react-redux'\nimport { setAuthToken } from './util/sessionApiUtil';\nimport jwt_decode from 'jwt-decode';\nimport {logout } from './action/sessionAction';\nimport App from './components/App';\nimport './index.css';\n\n\n\n let store;\n\n  if (localStorage.access_token) {\n    setAuthToken(localStorage.access_token);\n    const decodedUser = jwt_decode(localStorage.access_token);\n    const preloadedState = {\n      session: { isAuthenticated: true, user: decodedUser }\n    };\n\n    store = configureStore(preloadedState);\n\n    const currentTime = Date.now() / 1000;\n\n    if (decodedUser.exp < currentTime) {\n      store.dispatch(logout());\n      window.location.href = \"/\";\n    }\n  } else {\n    store = configureStore({});\n  }\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <HashRouter>\n            <App />\n        </HashRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}